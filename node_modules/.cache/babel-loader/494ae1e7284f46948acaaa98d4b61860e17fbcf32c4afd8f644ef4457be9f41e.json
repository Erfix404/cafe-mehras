{"ast":null,"code":"var _jsxFileName = \"E:\\\\cafe mehras\\\\src\\\\components\\\\menu\\\\MenuModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/menu/MenuModal.jsx\nimport React, { useState, useRef } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { X, Plus, Minus } from \"lucide-react\";\nimport { useCart } from \"../../context/CartContext\";\nimport { useToast } from \"../../context/ToastContext\";\nimport useBodyScrollLock from \"../../hooks/useBodyScrollLock\";\nimport useFocusTrap from \"../../hooks/useFocusTrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MenuModal = ({\n  item,\n  onClose\n}) => {\n  _s();\n  const {\n    addToCart\n  } = useCart();\n  const {\n    addToast\n  } = useToast();\n  const [quantity, setQuantity] = useState(1);\n  const modalRef = useRef(null);\n  useBodyScrollLock(true);\n  useFocusTrap(modalRef, true);\n  const handleAddToCart = () => {\n    addToCart(item, quantity);\n    addToast(`${quantity.toLocaleString(\"fa-IR\")} عدد \"${item.name}\" به سبد اضافه شد`);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    className: \"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      ref: modalRef,\n      layoutId: `card-container-${item.id}`,\n      className: \"relative w-full max-w-2xl bg-[#FFFBF5] dark:bg-[#1A120B] rounded-3xl backdrop-blur-2xl border border-white/10 dark:border-stone-800 shadow-2xl overflow-hidden\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(motion.img, {\n          layoutId: `card-image-${item.id}`,\n          src: item.image,\n          alt: item.name,\n          className: \"w-full h-72 object-cover\",\n          loading: \"lazy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"absolute top-4 right-4 bg-white/50 dark:bg-stone-700/50 dark:hover:bg-stone-600/70 rounded-full p-2 hover:scale-110 transition-all\",\n          \"aria-label\": \"\\u0628\\u0633\\u062A\\u0646\",\n          children: /*#__PURE__*/_jsxDEV(X, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8\",\n        children: [/*#__PURE__*/_jsxDEV(motion.h3, {\n          layoutId: `card-title-${item.id}`,\n          className: \"text-3xl font-bold text-stone-800 dark:text-stone-100\",\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-stone-600 dark:text-stone-300 leading-relaxed\",\n          children: item.description || \"توضیحات این محصول به زودی اضافه خواهد شد.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4 bg-stone-200/50 dark:bg-stone-700/60 rounded-full p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setQuantity(q => Math.max(1, q - 1)),\n              className: \"p-2 rounded-full hover:bg-stone-300 dark:hover:bg-stone-600 transition-colors\",\n              \"aria-label\": \"\\u06A9\\u0627\\u0647\\u0634 \\u062A\\u0639\\u062F\\u0627\\u062F\",\n              children: /*#__PURE__*/_jsxDEV(Minus, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl font-bold w-8 text-center\",\n              children: quantity.toLocaleString(\"fa-IR\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setQuantity(q => q + 1),\n              className: \"p-2 rounded-full hover:bg-stone-300 dark:hover:bg-stone-600 transition-colors\",\n              \"aria-label\": \"\\u0627\\u0641\\u0632\\u0627\\u06CC\\u0634 \\u062A\\u0639\\u062F\\u0627\\u062F\",\n              children: /*#__PURE__*/_jsxDEV(Plus, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-amber-700 dark:text-yellow-400\",\n            children: [(item.price * quantity).toLocaleString(\"fa-IR\"), \" \\u0647\\u0632\\u0627\\u0631 \\u062A\\u0648\\u0645\\u0627\\u0646\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddToCart,\n          className: \"w-full mt-8 py-4 bg-amber-500 text-white font-bold text-lg rounded-xl hover:bg-amber-600 transition-colors\",\n          children: \"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646 \\u0628\\u0647 \\u0633\\u0641\\u0627\\u0631\\u0634\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(MenuModal, \"sdkNGMiIEO7B01jpBcJK8+aS3ic=\", false, function () {\n  return [useCart, useToast, useBodyScrollLock, useFocusTrap];\n});\n_c = MenuModal;\nexport default MenuModal;\nvar _c;\n$RefreshReg$(_c, \"MenuModal\");","map":{"version":3,"names":["React","useState","useRef","motion","X","Plus","Minus","useCart","useToast","useBodyScrollLock","useFocusTrap","jsxDEV","_jsxDEV","MenuModal","item","onClose","_s","addToCart","addToast","quantity","setQuantity","modalRef","handleAddToCart","toLocaleString","name","div","initial","opacity","animate","exit","className","onClick","children","ref","layoutId","id","e","stopPropagation","img","src","image","alt","loading","fileName","_jsxFileName","lineNumber","columnNumber","h3","description","q","Math","max","price","_c","$RefreshReg$"],"sources":["E:/cafe mehras/src/components/menu/MenuModal.jsx"],"sourcesContent":["// src/components/menu/MenuModal.jsx\r\nimport React, { useState, useRef } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { X, Plus, Minus } from \"lucide-react\";\r\nimport { useCart } from \"../../context/CartContext\";\r\nimport { useToast } from \"../../context/ToastContext\";\r\nimport useBodyScrollLock from \"../../hooks/useBodyScrollLock\";\r\nimport useFocusTrap from \"../../hooks/useFocusTrap\";\r\n\r\nconst MenuModal = ({ item, onClose }) => {\r\n  const { addToCart } = useCart();\r\n  const { addToast } = useToast();\r\n  const [quantity, setQuantity] = useState(1);\r\n  const modalRef = useRef(null);\r\n\r\n  useBodyScrollLock(true);\r\n  useFocusTrap(modalRef, true);\r\n\r\n  const handleAddToCart = () => {\r\n    addToCart(item, quantity);\r\n    addToast(\r\n      `${quantity.toLocaleString(\"fa-IR\")} عدد \"${item.name}\" به سبد اضافه شد`\r\n    );\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      className=\"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4\"\r\n      onClick={onClose}\r\n    >\r\n      <motion.div\r\n        ref={modalRef}\r\n        layoutId={`card-container-${item.id}`}\r\n        className=\"relative w-full max-w-2xl bg-[#FFFBF5] dark:bg-[#1A120B] rounded-3xl backdrop-blur-2xl border border-white/10 dark:border-stone-800 shadow-2xl overflow-hidden\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"relative\">\r\n          <motion.img\r\n            layoutId={`card-image-${item.id}`}\r\n            src={item.image}\r\n            alt={item.name}\r\n            className=\"w-full h-72 object-cover\"\r\n            loading=\"lazy\"\r\n          />\r\n          {/* === CHANGE START === */}\r\n          {/* Improved contrast for the close button in dark mode */}\r\n          <button\r\n            onClick={onClose}\r\n            className=\"absolute top-4 right-4 bg-white/50 dark:bg-stone-700/50 dark:hover:bg-stone-600/70 rounded-full p-2 hover:scale-110 transition-all\"\r\n            aria-label=\"بستن\"\r\n          >\r\n            <X />\r\n          </button>\r\n          {/* === CHANGE END === */}\r\n        </div>\r\n        <div className=\"p-8\">\r\n          <motion.h3\r\n            layoutId={`card-title-${item.id}`}\r\n            className=\"text-3xl font-bold text-stone-800 dark:text-stone-100\"\r\n          >\r\n            {item.name}\r\n          </motion.h3>\r\n          <p className=\"mt-4 text-stone-600 dark:text-stone-300 leading-relaxed\">\r\n            {item.description || \"توضیحات این محصول به زودی اضافه خواهد شد.\"}\r\n          </p>\r\n          <div className=\"flex items-center justify-between mt-8\">\r\n            {/* === CHANGE START === */}\r\n            {/* Improved contrast for the quantity selector in dark mode */}\r\n            <div className=\"flex items-center gap-4 bg-stone-200/50 dark:bg-stone-700/60 rounded-full p-2\">\r\n              <button\r\n                onClick={() => setQuantity((q) => Math.max(1, q - 1))}\r\n                className=\"p-2 rounded-full hover:bg-stone-300 dark:hover:bg-stone-600 transition-colors\"\r\n                aria-label=\"کاهش تعداد\"\r\n              >\r\n                <Minus />\r\n              </button>\r\n              <span className=\"text-xl font-bold w-8 text-center\">\r\n                {quantity.toLocaleString(\"fa-IR\")}\r\n              </span>\r\n              <button\r\n                onClick={() => setQuantity((q) => q + 1)}\r\n                className=\"p-2 rounded-full hover:bg-stone-300 dark:hover:bg-stone-600 transition-colors\"\r\n                aria-label=\"افزایش تعداد\"\r\n              >\r\n                <Plus />\r\n              </button>\r\n            </div>\r\n            {/* === CHANGE END === */}\r\n            <p className=\"text-2xl font-bold text-amber-700 dark:text-yellow-400\">\r\n              {(item.price * quantity).toLocaleString(\"fa-IR\")} هزار تومان\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={handleAddToCart}\r\n            className=\"w-full mt-8 py-4 bg-amber-500 text-white font-bold text-lg rounded-xl hover:bg-amber-600 transition-colors\"\r\n          >\r\n            افزودن به سفارش\r\n          </button>\r\n        </div>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default MenuModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}